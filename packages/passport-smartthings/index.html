<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#" lang="en">
  <head>
    <title>passport-smartthings</title>
    <meta charset="utf-8">
    <meta name="description" content="A Passport.js OAuth 2.0 strategy for Smart Things">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="canonical" href="https://www.passportjs.org/packages/passport-smartthings/">
    <link rel="manifest" href="/manifest.webmanifest"/>
    <meta name="theme-color" content="#35DF79"/>
    <link rel="shortcut icon" href="/images/favicon/favicon.ico"/>
    <link rel="icon" sizes="16x16" type="image/png" href="/images/favicon/favicon-16x16.png"/>
    <link rel="icon" sizes="32x32" type="image/png" href="/images/favicon/favicon-32x32.png"/>
    <link rel="icon" sizes="36x36" type="image/png" href="/images/favicon/android-icon-36x36.png"/>
    <link rel="icon" sizes="48x48" type="image/png" href="/images/favicon/android-icon-48x48.png"/>
    <link rel="icon" sizes="70x70" type="image/png" href="/images/favicon/ms-icon-70x70.png"/>
    <link rel="icon" sizes="72x72" type="image/png" href="/images/favicon/android-icon-72x72.png"/>
    <link rel="icon" sizes="96x96" type="image/png" href="/images/favicon/android-icon-96x96.png"/>
    <link rel="icon" sizes="144x144" type="image/png" href="/images/favicon/ms-icon-144x144.png"/>
    <link rel="icon" sizes="150x150" type="image/png" href="/images/favicon/ms-icon-150x150.png"/>
    <link rel="icon" sizes="192x192" type="image/png" href="/images/favicon/android-icon-192x192.png"/>
    <link rel="icon" sizes="310x310" type="image/png" href="/images/favicon/ms-icon-310x310.png"/>
    <link rel="apple-touch-icon" href="/images/favicon/apple-icon-57x57.png"/>
    <link rel="apple-touch-icon" sizes="60x60" href="/images/favicon/apple-icon-60x60.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="/images/favicon/apple-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="76x76" href="/images/favicon/apple-icon-76x76.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="/images/favicon/apple-icon-114x114.png"/>
    <link rel="apple-touch-icon" sizes="120x120" href="/images/favicon/apple-icon-120x120.png"/>
    <link rel="apple-touch-icon" sizes="144x144" href="/images/favicon/apple-icon-144x144.png"/>
    <link rel="apple-touch-icon" sizes="152x152" href="/images/favicon/apple-icon-152x152.png"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-icon-180x180.png"/>
    <meta name="msapplication-config" content="/browserconfig.xml"/>
    <meta name="msapplication-TileColor" content="#35DF79"/>
    <meta name="msapplication-TileImage" content="/images/favicon/ms-icon-144x144.png"/>
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="passport-smartthings"/>
    <meta property="og:description" content="A Passport.js OAuth 2.0 strategy for Smart Things"/>
    <meta property="og:url" content="https://www.passportjs.org/packages/passport-smartthings/"/>
    <meta property="og:image" content="https://www.passportjs.org/images/facebook-card.png"/>
    <meta property="og:image:type" content="image/png"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="630"/>
    <meta property="og:site_name" content="Passport.js"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:site" content="@passportjs"/>
    <meta name="twitter:title" content="passport-smartthings"/>
    <meta name="twitter:description" content="A Passport.js OAuth 2.0 strategy for Smart Things"/>
    <meta name="twitter:image" content="https://www.passportjs.org/images/twitter-card.png"/>
    <meta name="flattr:id" content="d5znvd"/>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-73332146-2', 'auto');
      ga('send', 'pageview');
    </script>
    <!--+google-tag-manager('GTM-M5S3PH')-->
    <!--link(type='text/css', rel='stylesheet', href='http://fast.fonts.net/cssapi/7527d73a-ebfe-45db-a201-ff2812df4b18.css')-->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/default.min.css">
    <link rel="stylesheet" href="/assets/styles/all.css">
    <script data-main="/script/main" src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.js"></script>
  </head>
  <body>
    <div id="container"><span id="top"></span>
      <div id="toolbar">
        <div class="toolbar-search">
          <form action="/search">
            <button type="submit"></button>
            <input type="text" name="q" placeholder="Search for Strategies">
          </form>
        </div>
        <div class="toolbar-social">
          <ul>
            <li class="facebook"><a href="https://www.facebook.com/passportjs" target="_blank"></a></li>
            <li class="twitter"><a href="https://twitter.com/passportjs" target="_blank"></a></li>
            <li class="github"><a href="https://github.com/jaredhanson/passport" target="_blank"><span class="count">0</span></a></li>
          </ul>
        </div>
      </div>
      <nav id="menu"><a class="menu-logo" href="/" title="Passport.js"></a>
        <div class="menu-trigger"><span></span></div>
        <div class="menu-items">
          <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/docs/">Documentation</a></li>
            <li><a href="/features/">Features</a></li>
            <li><a href="/packages/">Strategies</a></li>
            <li><a href="/sponsors/">Sponsors</a></li>
          </ul><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=passportjsorg" id="_carbonads_js"></script>
        </div>
      </nav>
      <div id="content">
        <div class="package hproduct" id="package">
          <div class="description"><h1 id="passport-smartthings">passport-smartthings</h1>
<p>A Passport.js OAuth 2.0 strategy for Smart Things.</p>
<p><a href="http://passportjs.org/">Passport</a> strategy for authenticating with <a href="http://www.smartthings.com/">Smart Things</a>
using the OAuth 2.0 API.</p>
<p>This module lets you authenticate using Smart Things in your Node.js applications.
By plugging into Passport, Smart Things authentication can be easily and
unobtrusively integrated into any application or framework that supports
<a href="http://www.senchalabs.org/connect/">Connect</a>-style middleware, including
<a href="http://expressjs.com/">Express</a>.</p>
<h2 id="install">Install</h2>
<pre><code>$ npm install pass<span class="keyword">port</span>-smartthings
</code></pre><h2 id="usage">Usage</h2>
<h4 id="configure-strategy">Configure Strategy</h4>
<pre><code><span class="keyword">var</span> SmartThingsStrategy = <span class="keyword">require</span>(<span class="string">&#x27;passport-smartthings&#x27;</span>).Strategy

passport.<span class="keyword">use</span>(<span class="keyword">new</span> <span class="title class_">SmartThingsStrategy</span>({
    clientID: SMARTTHINGS_CLIENT_ID,
    clientSecret: SMARTTHINGS_CLIENT_SECRET
}));
</code></pre><h4 id="authenticate-requests">Authenticate Requests</h4>
<p>Use <code>passport.authenticate()</code>, specifying the <code>&#39;smartthings&#39;</code> strategy, to
authenticate requests.  </p>
<p>Note Smart Things requires the presence of a scope permission such as &quot;app&quot;.</p>
<p>For example, as route middleware in an <a href="http://expressjs.com/">Express</a>
application:</p>
<pre><code><span class="selector-tag">app</span><span class="selector-class">.get</span>(
    <span class="string">&#x27;/auth/smartthings&#x27;</span>, 
    passport.<span class="built_in">authenticate</span>(<span class="string">&#x27;smartthings&#x27;</span>, { <span class="attribute">scope</span>: [<span class="string">&#x27;app&#x27;</span>] })
);

<span class="selector-tag">app</span><span class="selector-class">.get</span>(<span class="string">&#x27;/auth/smartthings/callback&#x27;</span>,
    passport.<span class="built_in">authenticate</span>(<span class="string">&#x27;smartthings&#x27;</span>, { <span class="attribute">scope</span>: [<span class="string">&#x27;app&#x27;</span>] }),
    <span class="built_in">function</span>(req, res) { 
        <span class="selector-tag">res</span><span class="selector-class">.redirect</span>(<span class="string">&#x27;/&#x27;</span>); 
    }
);
</code></pre><h4 id="extended-permissions">Extended Permissions</h4>
<p>If you need extended permissions from the user, the permissions can be requested
via the <code>scope</code> option to <code>passport.authenticate()</code>.</p>
<p>For example, this authorization requests permission to the app tied to the clientID:</p>
<pre><code><span class="selector-tag">app</span><span class="selector-class">.get</span>(
    <span class="string">&#x27;/auth/smartthings&#x27;</span>, 
    passport.<span class="built_in">authenticate</span>(<span class="string">&#x27;smartthings&#x27;</span>, { <span class="attribute">scope</span>: [<span class="string">&#x27;app&#x27;</span>] })
);
</code></pre><h4 id="profile">Profile</h4>
<p>The above configuration will populate the passport profile in session with the Smart Things access token and applicable api endpoints available to the logged in user for further api requests.  The endpoints are as described in Step 8 of the Web Services Smart App documentation found here <a href="http://docs.smartthings.com/en/latest/smartapp-web-services-developers-guide/implementation.html">SmartApp Web Services Developers Guide</a>.  For example usage checkout examples/app.js dashboard express route.</p>
</div>
          <div class="metadata">
            <div class="install"><code>npm install <span class="fn">passport-smartthings</span></code></div>
            <ul>
              <li><span class="version">0.3.7</span> published <abbr class="updated" title="2022-06-23T13:30:34Z">2 years ago</abbr></li>
              <li><a class="url" href="https://github.com/jeff-blaisdell/passport-smartthings">https://github.com/jeff-blaisdell/passport-smartthings</a></li>
              <li><a rel="licence"></a></li>
            </ul>
            <ul>
              <li><b>8</b> downloads in the last day</li>
              <li><b>11</b> downloads in the last week</li>
              <li><b>31</b> downloads in the last month</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="search-con">
      <div class="head"><span class="close-ico"></span>
        <div class="hold">
          <h2>SEARCH FOR STRATEGIES</h2>
          <form action="/">
            <input value="" type="text" name="strategy" placeholder="Start typing" autocomplete="off">
          </form>
          <p class="info-line"><span>0</span>STRATEGIES</p>
        </div>
      </div>
      <div class="results">
        <section></section>
      </div>
    </div>
    <!--+google-tag-manager-noscript('GTM-M5S3PH')-->
  </body>
</html>